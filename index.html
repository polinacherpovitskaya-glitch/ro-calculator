<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recycle Object ‚Äî –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–∫–∞–∑–æ–≤</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css?v=25">
</head>
<body>

<!-- =============================================
     AUTH SCREEN
     ============================================= -->
<div id="auth-screen" class="auth-screen">
    <div class="auth-box">
        <h1>Recycle Object</h1>
        <p>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–∫–∞–∑–æ–≤</p>
        <input type="password" id="auth-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="off">
        <div id="auth-error" class="auth-error">–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å</div>
        <button class="btn btn-primary btn-lg" style="width:100%" onclick="App.login()">–í–æ–π—Ç–∏</button>
    </div>
</div>

<!-- =============================================
     APP LAYOUT
     ============================================= -->
<div id="app-layout" class="app-layout">

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-brand">
            <h2>Recycle Object</h2>
            <span>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä <span id="app-version">v20</span></span>
        </div>
        <nav class="sidebar-nav">
            <a href="#dashboard" data-page="dashboard">
                <span class="nav-icon">&#9632;</span>
                <span>–î–∞—à–±–æ—Ä–¥</span>
            </a>
            <a href="#calculator" data-page="calculator">
                <span class="nav-icon">&#9998;</span>
                <span>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</span>
            </a>
            <a href="#orders" data-page="orders">
                <span class="nav-icon">&#9776;</span>
                <span>–ó–∞–∫–∞–∑—ã</span>
            </a>
            <a href="#factual" data-page="factual">
                <span class="nav-icon">&#9646;</span>
                <span>–§–∞–∫—Ç</span>
            </a>
            <a href="#analytics" data-page="analytics">
                <span class="nav-icon">&#9673;</span>
                <span>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
            </a>
            <a href="#molds" data-page="molds">
                <span class="nav-icon">&#9670;</span>
                <span>–ë–ª–∞–Ω–∫–∏</span>
            </a>
            <a href="#timetrack" data-page="timetrack">
                <span class="nav-icon">&#9201;</span>
                <span>–ß–∞—Å—ã</span>
            </a>
            <a href="#tasks" data-page="tasks">
                <span class="nav-icon">&#9745;</span>
                <span>–ó–∞–¥–∞—á–∏</span>
            </a>
            <a href="#import" data-page="import">
                <span class="nav-icon">&#8645;</span>
                <span>–ò–º–ø–æ—Ä—Ç</span>
            </a>
            <a href="#settings" data-page="settings">
                <span class="nav-icon">&#9881;</span>
                <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">

        <!-- ========== DASHBOARD ========== -->
        <div id="page-dashboard" class="page">
            <div class="page-header">
                <h1>–î–∞—à–±–æ—Ä–¥</h1>
                <button class="btn btn-primary" onclick="App.navigate('calculator')">+ –ù–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç</button>
            </div>

            <div class="stats-grid" id="dashboard-stats">
                <div class="stat-card">
                    <div class="stat-label">–ó–∞–∫–∞–∑–æ–≤ –≤ —Ä–∞–±–æ—Ç–µ</div>
                    <div class="stat-value" id="dash-orders-active">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ó–∞–≥—Ä—É–∑–∫–∞ –ª–∏—Ç—å—è</div>
                    <div class="stat-value" id="dash-load-plastic">0%</div>
                    <div class="load-bar"><div class="load-bar-fill green" id="dash-load-plastic-bar" style="width:0"></div></div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ó–∞–≥—Ä—É–∑–∫–∞ —É–ø–∞–∫–æ–≤–∫–∏</div>
                    <div class="stat-value" id="dash-load-packaging">0%</div>
                    <div class="load-bar"><div class="load-bar-fill green" id="dash-load-packaging-bar" style="width:0"></div></div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–í—ã—Ä—É—á–∫–∞ (–ø–ª–∞–Ω)</div>
                    <div class="stat-value" id="dash-revenue">0 &#8381;</div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–∞—Å—á–µ—Ç—ã</h3>
                    <a href="#orders" class="btn btn-sm btn-outline" onclick="App.navigate('orders')">–í—Å–µ –∑–∞–∫–∞–∑—ã</a>
                </div>
                <div class="table-wrap">
                    <table>
                        <thead>
                            <tr>
                                <th>–ó–∞–∫–∞–∑</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th class="text-right">–í—ã—Ä—É—á–∫–∞</th>
                                <th class="text-right">–ú–∞—Ä–∂–∞</th>
                                <th>–î–∞—Ç–∞</th>
                            </tr>
                        </thead>
                        <tbody id="dashboard-orders-table">
                            <tr><td colspan="6" class="text-center text-muted">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ========== CALCULATOR ========== -->
        <div id="page-calculator" class="page">
            <div class="page-header">
                <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∑–∞–∫–∞–∑–∞</h1>
                <div class="flex gap-8">
                    <button class="btn btn-outline" onclick="Calculator.generateKP()">&#128196; –°–∫–∞—á–∞—Ç—å –ö–ü</button>
                    <button class="btn btn-outline" onclick="Calculator.resetForm()">–°–±—Ä–æ—Å–∏—Ç—å</button>
                    <button class="btn btn-success" onclick="Calculator.saveOrder()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–∫–∞–∑</button>
                </div>
            </div>

            <!-- Order info -->
            <div class="card">
                <div class="form-row">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞</label>
                        <input type="text" id="calc-order-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ë—Ä–µ–ª–æ–∫–∏ –¥–ª—è –Ø–Ω–¥–µ–∫—Å">
                    </div>
                    <div class="form-group">
                        <label>–ö–ª–∏–µ–Ω—Ç</label>
                        <input type="text" id="calc-client-name" placeholder="–ö–æ–º–ø–∞–Ω–∏—è">
                    </div>
                    <div class="form-group">
                        <label>–ú–µ–Ω–µ–¥–∂–µ—Ä</label>
                        <select id="calc-manager-name">
                            <option value="">-- –í—ã–±—Ä–∞—Ç—å --</option>
                            <option value="–ê–ª–∏–Ω–∞">–ê–ª–∏–Ω–∞</option>
                            <option value="–≠–ª–∏–Ω–∞">–≠–ª–∏–Ω–∞</option>
                            <option value="–ê–Ω—è">–ê–Ω—è</option>
                            <option value="–ì–ª–µ–±">–ì–ª–µ–±</option>
                            <option value="–ü–æ–ª–∏–Ω–∞">–ü–æ–ª–∏–Ω–∞</option>
                            <option value="–ù–∏–∫–∏—Ç–∞">–ù–∏–∫–∏—Ç–∞</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–î–µ–¥–ª–∞–π–Ω</label>
                        <input type="date" id="calc-deadline">
                    </div>
                </div>
                <div class="form-group">
                    <label>–ó–∞–º–µ—Ç–∫–∏</label>
                    <textarea id="calc-notes" rows="2" placeholder="–î–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∑–∞–∫–∞–∑—É"></textarea>
                </div>
            </div>

            <!-- Item blocks container -->
            <div id="calc-items-container"></div>

            <div style="text-align:center; margin: 12px 0;">
                <button class="btn btn-outline" id="calc-add-item-btn" onclick="Calculator.addItem()">+ –î–æ–±–∞–≤–∏—Ç—å –∏–∑–¥–µ–ª–∏–µ</button>
            </div>

            <!-- Hardware section (order-level) -->
            <div class="card">
                <div class="card-header">
                    <h3>–§—É—Ä–Ω–∏—Ç—É—Ä–∞</h3>
                    <button class="btn btn-sm btn-outline" onclick="Calculator.addHardware()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <p class="text-muted" style="font-size:12px; margin-bottom:8px">–ö–∞—Ä–∞–±–∏–Ω—ã, –∫–æ–ª—å—Ü–∞, –º–∞–≥–Ω–∏—Ç—ã, –∑–µ—Ä–∫–∞–ª–∞ –∏ —Ç.–¥.</p>
                <div id="calc-hardware-list"></div>
            </div>

            <!-- Packaging section (order-level) -->
            <div class="card">
                <div class="card-header">
                    <h3>–£–ø–∞–∫–æ–≤–∫–∞</h3>
                    <button class="btn btn-sm btn-outline" onclick="Calculator.addPackaging()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <p class="text-muted" style="font-size:12px; margin-bottom:8px">–ú–µ—à–æ—á–∫–∏, –ø–∞–∫–µ—Ç—ã, –∫–æ—Ä–æ–±–∫–∏ –∏ —Ç.–¥.</p>
                <div id="calc-packaging-list"></div>
            </div>

            <!-- Unified pricing card -->
            <div class="card" id="calc-pricing" style="display:none">
                <div class="card-header">
                    <h3>–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3>
                    <span style="font-size:11px; color:var(--text-muted)">+ 6% –û–°–ù + 6.5% –∫–æ–º–º–µ—Ä—á. —É–∂–µ –∑–∞–ª–æ–∂–µ–Ω—ã</span>
                </div>
                <div id="calc-pricing-content"></div>
            </div>

            <!-- Production load -->
            <div class="card" id="calc-production-load" style="display:none">
                <div class="card-header">
                    <h3>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</h3>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">–õ–∏—Ç—å—ë + –æ–±—Ä–∞–±–æ—Ç–∫–∞</div>
                        <div class="stat-value" id="calc-hours-plastic">0 —á</div>
                        <div class="load-bar"><div class="load-bar-fill green" id="calc-load-plastic-bar" style="width:0"></div></div>
                        <div class="stat-sub" id="calc-load-plastic-pct">0% –æ—Ç –º–æ—â–Ω–æ—Å—Ç–∏</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–£–ø–∞–∫–æ–≤–∫–∞ + —Ñ—É—Ä–Ω–∏—Ç—É—Ä–∞</div>
                        <div class="stat-value" id="calc-hours-packaging">0 —á</div>
                        <div class="load-bar"><div class="load-bar-fill green" id="calc-load-packaging-bar" style="width:0"></div></div>
                        <div class="stat-sub" id="calc-load-packaging-pct">0% –æ—Ç –º–æ—â–Ω–æ—Å—Ç–∏</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–í—Å–µ–≥–æ —á–∞—Å–æ–≤</div>
                        <div class="stat-value" id="calc-hours-total">0 —á</div>
                    </div>
                </div>
                <div class="form-row" style="max-width:500px">
                    <div class="stat-card">
                        <div class="stat-label">1 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫</div>
                        <div class="stat-value" id="calc-days-1w">0 –¥–Ω</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">2 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</div>
                        <div class="stat-value" id="calc-days-2w">0 –¥–Ω</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">3 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</div>
                        <div class="stat-value" id="calc-days-3w">0 –¥–Ω</div>
                    </div>
                </div>
            </div>

            <!-- FinDirector summary -->
            <div class="card" id="calc-findirector" style="display:none">
                <div class="card-header">
                    <h3>–°–º–µ—Ç–∞ –¥–ª—è —Ñ–∏–Ω–¥–∏—Ä–µ–∫—Ç–æ—Ä–∞</h3>
                </div>
                <div class="cost-breakdown">
                    <div class="cost-row"><span class="cost-label">–ó–∞—Ä–ø–ª–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</span><span class="cost-value" id="fin-salary">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–ó–∞–∫—É–ø–∫–∞ —Ñ—É—Ä–Ω–∏—Ç—É—Ä—ã + NFC</span><span class="cost-value" id="fin-hardware">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–î–æ—Å—Ç–∞–≤–∫–∞ —Ñ—É—Ä–Ω–∏—Ç—É—Ä—ã</span><span class="cost-value" id="fin-hw-delivery">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–ó–∞–∫—É–ø–∫–∞ —É–ø–∞–∫–æ–≤–∫–∏</span><span class="cost-value" id="fin-packaging">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–î–æ—Å—Ç–∞–≤–∫–∞ —É–ø–∞–∫–æ–≤–∫–∏</span><span class="cost-value" id="fin-pkg-delivery">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</span><span class="cost-value" id="fin-design">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–ù–∞–Ω–µ—Å–µ–Ω–∏–µ</span><span class="cost-value" id="fin-printing">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–ü–ª–∞—Å—Ç–∏–∫</span><span class="cost-value" id="fin-plastic">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–ú–æ–ª–¥—ã</span><span class="cost-value" id="fin-molds">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–î–æ—Å—Ç–∞–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç—É</span><span class="cost-value" id="fin-delivery">0 &#8381;</span></div>
                    <div class="cost-row"><span class="cost-label">–ù–∞–ª–æ–≥–∏ (–ù–î–° + –Ω–∞–ª–æ–≥)</span><span class="cost-value" id="fin-taxes">0 &#8381;</span></div>
                    <div class="cost-row cost-total"><span class="cost-label">–ò–¢–û–ì–û —Ä–∞—Å—Ö–æ–¥—ã</span><span class="cost-value" id="fin-total-costs">0 &#8381;</span></div>
                    <div class="cost-row" style="margin-top:8px"><span class="cost-label">–í—ã—Ä—É—á–∫–∞</span><span class="cost-value text-green" id="fin-revenue">0 &#8381;</span></div>
                </div>
            </div>

            <!-- Summary footer -->
            <div class="summary-footer" id="calc-summary-footer" style="display:none">
                <div class="summary-stats">
                    <div class="summary-stat-item">
                        <div class="label">–í—ã—Ä—É—á–∫–∞</div>
                        <div class="value" id="sum-revenue">0 &#8381;</div>
                    </div>
                    <div class="summary-stat-item">
                        <div class="label">–ó–∞—Ä–∞–±–æ—Ç–æ–∫</div>
                        <div class="value" id="sum-earned">0 &#8381;</div>
                    </div>
                    <div class="summary-stat-item">
                        <div class="label">–ú–∞—Ä–∂–∞</div>
                        <div class="value" id="sum-margin">0%</div>
                    </div>
                    <div class="summary-stat-item">
                        <div class="label">–ß–∞—Å—ã</div>
                        <div class="value" id="sum-hours">0 —á</div>
                    </div>
                </div>
                <button class="btn btn-success btn-lg" onclick="Calculator.saveOrder()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>

            <!-- Change history (shown when editing existing order) -->
            <div class="card" id="calc-history" style="display:none; margin-top:16px;">
                <h3 style="margin:0 0 8px 0; font-size:14px;">–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</h3>
                <div id="calc-history-list" style="font-size:12px;"></div>
            </div>
        </div>

        <!-- ========== ORDERS ========== -->
        <div id="page-orders" class="page">
            <div class="page-header">
                <h1>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤</h1>
                <button class="btn btn-primary" onclick="App.navigate('calculator')">+ –ù–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç</button>
            </div>

            <div class="card" style="padding: 12px 20px;">
                <div class="form-row" style="align-items:end">
                    <div class="form-group" style="margin:0">
                        <label>–°—Ç–∞—Ç—É—Å</label>
                        <select id="orders-filter-status" onchange="Orders.loadList()">
                            <option value="">–í—Å–µ</option>
                            <option value="draft">–ß–µ—Ä–Ω–æ–≤–∏–∫</option>
                            <option value="calculated">–†–∞—Å—Å—á–∏—Ç–∞–Ω</option>
                            <option value="in_production">–í –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ</option>
                            <option value="completed">–í—ã–ø–æ–ª–Ω–µ–Ω</option>
                            <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω</option>
                            <option value="deleted">üóëÔ∏è –ö–æ—Ä–∑–∏–Ω–∞</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–ü–æ–∏—Å–∫</label>
                        <input type="text" id="orders-search" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ / –∫–ª–∏–µ–Ω—Ç" oninput="Orders.filterLocal()">
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="table-wrap">
                    <table>
                        <thead>
                            <tr>
                                <th>–ó–∞–∫–∞–∑</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th>–ú–µ–Ω–µ–¥–∂–µ—Ä</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th class="text-right">–í—ã—Ä—É—á–∫–∞</th>
                                <th class="text-right">–ú–∞—Ä–∂–∞</th>
                                <th>–î–∞—Ç–∞</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="orders-table-body">
                            <tr><td colspan="8" class="text-center text-muted">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ========== FACTUAL (Plan vs Fact) ========== -->
        <div id="page-factual" class="page">
            <div class="page-header">
                <h1>–§–∞–∫—Ç: –ø–ª–∞–Ω vs —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å</h1>
            </div>

            <!-- Order selector -->
            <div class="card" style="margin-bottom:16px">
                <div style="display:flex; gap:12px; align-items:center; flex-wrap:wrap;">
                    <label style="font-weight:600; white-space:nowrap;">–ó–∞–∫–∞–∑:</label>
                    <select id="fact-order-select" class="form-control" style="max-width:400px" onchange="Factual.onOrderSelect(this.value)">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–∫–∞–∑ --</option>
                    </select>
                    <span id="fact-order-status" style="font-size:12px; color:var(--text-muted);"></span>
                </div>
            </div>

            <!-- Plan vs Fact table -->
            <div class="card" id="fact-table-card" style="display:none">
                <div class="card-header" style="display:flex; justify-content:space-between; align-items:center;">
                    <h3>–†–∞—Å—Ö–æ–¥—ã: –ø–ª–∞–Ω vs —Ñ–∞–∫—Ç</h3>
                    <button class="btn btn-success" onclick="Factual.saveFact()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–∫—Ç</button>
                </div>
                <div id="fact-table-content"></div>
            </div>

            <!-- Hours comparison -->
            <div class="card" id="fact-hours-card" style="display:none; margin-top:16px;">
                <h3 style="margin:0 0 12px 0; font-size:14px;">–ß–∞—Å—ã: –ø–ª–∞–Ω vs —Ñ–∞–∫—Ç</h3>
                <div id="fact-hours-content"></div>
            </div>

            <!-- Notes -->
            <div class="card" id="fact-notes-card" style="display:none; margin-top:16px;">
                <h3 style="margin:0 0 8px 0; font-size:14px;">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h3>
                <textarea id="fact-notes" class="form-control" rows="3" placeholder="–ó–∞–º–µ—Ç–∫–∏ –ø–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—Ö–æ–¥–∞–º..." oninput="Factual.onNotesChange(this.value)"></textarea>
            </div>
        </div>

        <!-- ========== ANALYTICS ========== -->
        <div id="page-analytics" class="page">
            <div class="page-header">
                <h1>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
            </div>

            <div class="stats-grid" id="analytics-stats">
                <div class="stat-card">
                    <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤</div>
                    <div class="stat-value" id="anl-total-orders">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–°—Ä–µ–¥–Ω—è—è –º–∞—Ä–∂–∞</div>
                    <div class="stat-value" id="anl-avg-margin">0%</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞</div>
                    <div class="stat-value" id="anl-total-revenue">0 &#8381;</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–û–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫</div>
                    <div class="stat-value" id="anl-total-earned">0 &#8381;</div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>–ó–∞–∫–∞–∑—ã –ø–æ –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</h3>
                </div>
                <div class="table-wrap">
                    <table>
                        <thead>
                            <tr>
                                <th>–ó–∞–∫–∞–∑</th>
                                <th>–ö–ª–∏–µ–Ω—Ç</th>
                                <th class="text-right">–í—ã—Ä—É—á–∫–∞</th>
                                <th class="text-right">–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å</th>
                                <th class="text-right">–ú–∞—Ä–∂–∞</th>
                            </tr>
                        </thead>
                        <tbody id="analytics-table-body">
                            <tr><td colspan="5" class="text-center text-muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header"><h3>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏</h3></div>
                <canvas id="analytics-cost-chart" height="300" style="max-width:500px"></canvas>
            </div>
        </div>

        <!-- ========== MOLDS ========== -->
        <div id="page-molds" class="page">
            <div class="page-header">
                <h1>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –±–ª–∞–Ω–∫–æ–≤</h1>
                <div class="flex gap-8">
                    <button class="btn btn-outline" onclick="Molds.exportCSV()">–≠–∫—Å–ø–æ—Ä—Ç CSV</button>
                    <button class="btn btn-primary" onclick="Molds.showAddForm()">+ –ù–æ–≤—ã–π –±–ª–∞–Ω–∫</button>
                </div>
            </div>

            <!-- Summary stats -->
            <div class="stats-grid" id="molds-stats">
                <div class="stat-card">
                    <div class="stat-label">–í—Å–µ–≥–æ –±–ª–∞–Ω–∫–æ–≤</div>
                    <div class="stat-value" id="molds-total">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö</div>
                    <div class="stat-value" id="molds-active">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–°—Ä. —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å (100 —à—Ç)</div>
                    <div class="stat-value" id="molds-avg-cost">0 &#8381;</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–ª–∞–Ω–∫–æ–≤</div>
                    <div class="stat-value" id="molds-total-value">0 &#8381;</div>
                </div>
            </div>

            <!-- Filters -->
            <div class="card" style="padding: 12px 20px;">
                <div class="form-row" style="align-items:end">
                    <div class="form-group" style="margin:0">
                        <label>–°—Ç–∞—Ç—É—Å</label>
                        <select id="molds-filter-status" onchange="Molds.filterAndRender()">
                            <option value="">–í—Å–µ</option>
                            <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</option>
                            <option value="client">–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ</option>
                            <option value="retired">–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–ö–æ–ª–ª–µ–∫—Ü–∏—è</label>
                        <select id="molds-filter-collection" onchange="Molds.filterAndRender()">
                            <option value="">–í—Å–µ</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</label>
                        <select id="molds-sort" onchange="Molds.filterAndRender()">
                            <option value="name">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
                            <option value="cost_asc">–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å ‚Üë</option>
                            <option value="cost_desc">–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å ‚Üì</option>
                            <option value="margin_desc">–ú–∞—Ä–∂–∞ ‚Üì</option>
                            <option value="orders_desc">–ö–æ–ª-–≤–æ –∑–∞–∫–∞–∑–æ–≤ ‚Üì</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–ü–æ–∏—Å–∫</label>
                        <input type="text" id="molds-search" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" oninput="Molds.filterAndRender()">
                    </div>
                </div>
            </div>

            <!-- Molds cards container -->
            <div id="molds-cards-container"></div>

            <!-- Add/Edit modal (inline) -->
            <div class="card" id="mold-edit-form" style="display:none;">
                <div class="card-header">
                    <h3 id="mold-form-title">–ù–æ–≤—ã–π –±–ª–∞–Ω–∫</h3>
                    <button class="btn btn-sm btn-outline" onclick="Molds.hideForm()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input type="text" id="mold-name">
                    </div>
                    <div class="form-group">
                        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <select id="mold-category">
                            <option value="blank">–ë–ª–∞–Ω–∫ (—Ö–æ–¥–æ–≤–æ–π)</option>
                            <option value="nfc">NFC (3 —á–∞—Å—Ç–∏)</option>
                            <option value="custom">–ö–∞—Å—Ç–æ–º–Ω—ã–π –Ω–∞—à</option>
                            <option value="client_custom">–ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–ö–æ–ª–ª–µ–∫—Ü–∏—è</label>
                        <div style="display:flex;gap:4px;">
                            <select id="mold-collection" style="flex:1;">
                                <option value="">‚Äî –ë–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ ‚Äî</option>
                            </select>
                            <button class="btn btn-sm btn-outline" onclick="Molds.addNewCollection()" title="–ù–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è" style="padding:4px 8px;">+</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>–°—Ç–∞—Ç—É—Å</label>
                        <select id="mold-status">
                            <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–π</option>
                            <option value="client">–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π (–∂–¥—ë–º –ø–æ–≤—Ç–æ—Ä–∞)</option>
                            <option value="retired">–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–®—Ç/—á–∞—Å (–ø–ª–∞–Ω –º–∏–Ω)</label>
                        <input type="number" min="0" id="mold-pph-min">
                    </div>
                    <div class="form-group">
                        <label>–®—Ç/—á–∞—Å (–ø–ª–∞–Ω –º–∞–∫—Å)</label>
                        <input type="number" min="0" id="mold-pph-max">
                    </div>
                    <div class="form-group">
                        <label>–®—Ç/—á–∞—Å (—Ñ–∞–∫—Ç)</label>
                        <input type="number" min="0" id="mold-pph-actual">
                        <span class="form-hint">–†–µ–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ —Ö—Ä–æ–Ω–æ–º–µ—Ç—Ä–∞–∂—É</span>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–í–µ—Å –∏–∑–¥–µ–ª–∏—è (–≥)</label>
                        <input type="number" min="0" id="mold-weight">
                    </div>
                    <div class="form-group">
                        <label>–¢–∏–ø –º–æ–ª–¥–∞</label>
                        <select id="mold-complexity">
                            <option value="simple">–ü—Ä–æ—Å—Ç–æ–π (2 —á–∞—Å—Ç–∏) ‚Äî 800&#165;</option>
                            <option value="complex">–°–ª–æ–∂–Ω—ã–π (2 —á–∞—Å—Ç–∏) ‚Äî 1000&#165;</option>
                            <option value="nfc_triple">NFC (3 —á–∞—Å—Ç–∏) ‚Äî 1200&#165;</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –º–æ–ª–¥–∞ (&#165;)</label>
                        <input type="number" min="0" id="mold-cost-cny">
                        <span class="form-hint">–ê–≤—Ç–æ: 800/1000/1200 –ø–æ —Ç–∏–ø—É</span>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–ö–æ–ª-–≤–æ –º–æ–ª–¥–æ–≤ –≤ –∏–∑–¥–µ–ª–∏–∏</label>
                        <input type="number" min="1" max="5" id="mold-count" value="1">
                        <span class="form-hint">–ù–∞–ø—Ä. –ø–æ–¥—Å—Ç–∞–≤–∫–∞ = 2 –º–æ–ª–¥–∞</span>
                    </div>
                    <div class="form-group">
                        <label>–ö—É—Ä—Å —é–∞–Ω—è (&#8381;)</label>
                        <input type="number" step="0.01" id="mold-cny-rate" value="14">
                    </div>
                    <div class="form-group">
                        <label>–î–æ—Å—Ç–∞–≤–∫–∞ 1 –º–æ–ª–¥–∞ (&#8381;)</label>
                        <input type="number" min="0" id="mold-delivery-cost" value="15200">
                        <span class="form-hint">~160$ (60$ –ö–∏—Ç–∞–π + 100$ –ú–°–ö)</span>
                    </div>
                    <div class="form-group">
                        <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –ò–¢–û–ì–û (&#8381;)</label>
                        <input type="number" min="0" id="mold-cost-rub" readonly style="background:#f5f5f5;font-weight:700">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–ö–ª–∏–µ–Ω—Ç (–µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π)</label>
                        <input type="text" id="mold-client" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏">
                    </div>
                </div>

                <!-- Built-in hardware (e.g. mirror for mirror blank) -->
                <div class="section-title" style="margin-top:12px; margin-bottom:4px;">–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É—Ä–Ω–∏—Ç—É—Ä–∞ <span style="font-weight:400;font-size:11px;color:var(--text-muted)">(–µ—Å–ª–∏ –∏–∑–¥–µ–ª–∏–µ –ø—Ä–æ–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å –Ω–µ–π)</span></div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—É—Ä–Ω–∏—Ç—É—Ä—ã</label>
                        <input type="text" id="mold-hw-name" placeholder="–ó–µ—Ä–∫–∞–ª–æ, –º–∞–≥–Ω–∏—Ç, –∫–æ–ª—å—Ü–æ...">
                    </div>
                    <div class="form-group">
                        <label>–ó–∞–∫—É–ø–∫–∞ (&#8381;/—à—Ç)</label>
                        <input type="number" min="0" step="0.01" id="mold-hw-price">
                    </div>
                    <div class="form-group">
                        <label>–î–æ—Å—Ç–∞–≤–∫–∞ –≤—Å–µ–≥–æ (&#8381;)</label>
                        <input type="number" min="0" id="mold-hw-delivery-total" value="0">
                    </div>
                    <div class="form-group">
                        <label>–°–±–æ—Ä–∫–∞ (—à—Ç/—á)</label>
                        <input type="number" min="0" id="mold-hw-speed">
                        <span class="form-hint">–°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–∏–∫–ª–µ–π–∫–∏/—Å–±–æ—Ä–∫–∏</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>–ó–∞–º–µ—Ç–∫–∏</label>
                    <textarea id="mold-notes" rows="2" placeholder="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏, –ø—Ä–æ–±–ª–µ–º—ã, –∏—Å—Ç–æ—Ä–∏—è"></textarea>
                </div>
                <div style="margin-top: 12px; display:flex; gap:8px; align-items:center;">
                    <button class="btn btn-success" onclick="Molds.saveMold()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button class="btn btn-outline" onclick="Molds.hideForm()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn btn-danger" id="mold-delete-btn" style="margin-left:auto; display:none;" onclick="Molds.deleteFromForm()">–£–¥–∞–ª–∏—Ç—å –±–ª–∞–Ω–∫</button>
                </div>
            </div>
        </div>

        <!-- ========== TIME TRACKING ========== -->
        <div id="page-timetrack" class="page">
            <div class="page-header">
                <h1>–£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏</h1>
                <div class="flex gap-8">
                    <button class="btn btn-outline" onclick="TimeTrack.showManualEntry()">+ –í—Ä—É—á–Ω—É—é</button>
                    <button class="btn btn-primary" onclick="TimeTrack.showBotSetup()">Telegram –±–æ—Ç</button>
                </div>
            </div>

            <!-- Bot setup info -->
            <div class="card" id="tt-bot-setup" style="display:none">
                <div class="card-header">
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞</h3>
                    <button class="btn btn-sm btn-outline" onclick="TimeTrack.hideBotSetup()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
                <div style="font-size:13px; color:var(--text-secondary); line-height:1.8">
                    <p><b>1.</b> –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ <a href="https://t.me/BotFather" target="_blank" style="color:var(--accent)">@BotFather</a> –≤ Telegram</p>
                    <p><b>2.</b> –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –Ω–∏–∂–µ</p>
                    <p><b>3.</b> –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Vercel / Railway / VPS)</p>
                    <p><b>4.</b> –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç –±–æ—Ç–∞ –∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –æ—Ç—á–∏—Ç—ã–≤–∞—é—Ç—Å—è:</p>
                    <div style="background:var(--bg); padding:12px; border-radius:6px; margin:8px 0; font-family:monospace; font-size:12px">
                        /report<br>
                        –ë–æ—Ç: –ù–∞ –∫–∞–∫–æ–π –ø—Ä–æ–µ–∫—Ç?<br>
                        <span style="color:var(--accent)">[–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏]</span><br>
                        –ë–æ—Ç: –°–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤?<br>
                        –û—Ç–≤–µ—Ç: 4.5<br>
                        –ë–æ—Ç: –ó–∞–ø–∏—Å–∞–Ω–æ! –ë—Ä–µ–ª–æ–∫–∏ –Ø–Ω–¥–µ–∫—Å ‚Äî 4.5—á
                    </div>
                </div>
                <div class="form-row" style="margin-top:12px">
                    <div class="form-group">
                        <label>–¢–æ–∫–µ–Ω –±–æ—Ç–∞</label>
                        <input type="text" id="tt-bot-token" placeholder="123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11">
                    </div>
                    <div class="form-group">
                        <label>Webhook URL</label>
                        <input type="text" id="tt-webhook-url" placeholder="https://your-server.com/api/bot" readonly style="background:var(--bg)">
                    </div>
                </div>
                <p class="text-muted" style="font-size:11px; margin-top:8px">
                    –ö–æ–¥ –±–æ—Ç–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ñ–∞–π–ª–µ <code>bot/timebot.js</code> –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
                </p>
            </div>

            <!-- Manual entry form -->
            <div class="card" id="tt-manual-form" style="display:none">
                <div class="card-header">
                    <h3>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤—Ä—É—á–Ω—É—é</h3>
                    <button class="btn btn-sm btn-outline" onclick="TimeTrack.hideManualEntry()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–°–æ—Ç—Ä—É–¥–Ω–∏–∫</label>
                        <select id="tt-worker-name">
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–æ–µ–∫—Ç / –∑–∞–∫–∞–∑</label>
                        <select id="tt-project-select">
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç --</option>
                            <option value="__general">–û–±—â–∏–µ —Ä–∞–±–æ—Ç—ã (—Å–∞–π–∫–∞, –ú–ü, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–ß–∞—Å—ã</label>
                        <input type="number" step="0.5" min="0" max="12" id="tt-hours" value="">
                    </div>
                    <div class="form-group">
                        <label>–î–∞—Ç–∞</label>
                        <input type="date" id="tt-date">
                    </div>
                </div>
                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="text" id="tt-description" placeholder="–ß—Ç–æ –¥–µ–ª–∞–ª–∏">
                </div>
                <button class="btn btn-success" onclick="TimeTrack.saveEntry()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>

            <!-- Summary stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">–ß–∞—Å–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                    <div class="stat-value" id="tt-week-hours">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ß–∞—Å–æ–≤ –∑–∞ –º–µ—Å—è—Ü</div>
                    <div class="stat-value" id="tt-month-hours">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</div>
                    <div class="stat-value" id="tt-workers-count">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ü—Ä–æ–µ–∫—Ç–æ–≤</div>
                    <div class="stat-value" id="tt-projects-count">0</div>
                </div>
            </div>

            <!-- Daily status card -->
            <div class="card" id="tt-daily-status">
                <div class="card-header">
                    <h3>–û—Ç—á—ë—Ç—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è</h3>
                    <span class="text-muted" style="font-size:11px;" id="tt-daily-date"></span>
                </div>
                <div id="tt-daily-status-content">
                    <p class="text-muted text-center">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                </div>
            </div>

            <!-- Filters -->
            <div class="card" style="padding: 12px 20px;">
                <div class="form-row" style="align-items:end">
                    <div class="form-group" style="margin:0">
                        <label>–ü–µ—Ä–∏–æ–¥</label>
                        <select id="tt-filter-period" onchange="TimeTrack.filterAndRender()">
                            <option value="week">–≠—Ç–∞ –Ω–µ–¥–µ–ª—è</option>
                            <option value="month" selected>–≠—Ç–æ—Ç –º–µ—Å—è—Ü</option>
                            <option value="all">–í—Å–µ –∑–∞–ø–∏—Å–∏</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–°–æ—Ç—Ä—É–¥–Ω–∏–∫</label>
                        <select id="tt-filter-worker" onchange="TimeTrack.filterAndRender()">
                            <option value="">–í—Å–µ</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–ü—Ä–æ–µ–∫—Ç</label>
                        <select id="tt-filter-project" onchange="TimeTrack.filterAndRender()">
                            <option value="">–í—Å–µ</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Time entries table -->
            <div class="card">
                <div class="table-wrap">
                    <table>
                        <thead>
                            <tr>
                                <th>–î–∞—Ç–∞</th>
                                <th>–°–æ—Ç—Ä—É–¥–Ω–∏–∫</th>
                                <th>–ü—Ä–æ–µ–∫—Ç</th>
                                <th class="text-right">–ß–∞—Å—ã</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="tt-table-body">
                            <tr><td colspan="6" class="text-center text-muted">–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Summary by project -->
            <div class="card">
                <div class="card-header"><h3>–ò—Ç–æ–≥–æ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º</h3></div>
                <div id="tt-project-summary"></div>
            </div>
        </div>

        <!-- ========== TASKS (Kanban) ========== -->
        <div id="page-tasks" class="page">
            <div class="page-header">
                <h1>–ó–∞–¥–∞—á–∏</h1>
                <div class="flex gap-8">
                    <div class="flex gap-4">
                        <button class="tasks-view-btn active" data-view="kanban" onclick="Tasks.setView('kanban')">&#9634; –ö–∞–Ω–±–∞–Ω</button>
                        <button class="tasks-view-btn" data-view="list" onclick="Tasks.setView('list')">&#9776; –°–ø–∏—Å–æ–∫</button>
                    </div>
                    <button class="btn btn-success" onclick="Tasks.showAddForm()">+ –ó–∞–¥–∞—á–∞</button>
                </div>
            </div>

            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</div>
                    <div class="stat-value" id="tasks-total">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ù–µ –Ω–∞—á–∞—Ç–æ</div>
                    <div class="stat-value" id="tasks-not-started">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–í —Ä–∞–±–æ—Ç–µ</div>
                    <div class="stat-value" id="tasks-in-progress">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">–ì–æ—Ç–æ–≤–æ</div>
                    <div class="stat-value" id="tasks-done">0</div>
                </div>
            </div>

            <!-- Filters -->
            <div class="card" style="padding: 12px 20px;">
                <div class="form-row" style="align-items:end">
                    <div class="form-group" style="margin:0">
                        <label>–°—Ç–∞—Ç—É—Å</label>
                        <select id="tasks-filter-status" onchange="Tasks.render()">
                            <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</option>
                            <option value="Not started">–ù–µ –Ω–∞—á–∞—Ç–æ</option>
                            <option value="In progress">–í —Ä–∞–±–æ—Ç–µ</option>
                            <option value="Done">–ì–æ—Ç–æ–≤–æ</option>
                            <option value="Cancelled">–û—Ç–º–µ–Ω–µ–Ω–æ</option>
                            <option value="all">–í—Å–µ</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π</label>
                        <select id="tasks-filter-assignee" onchange="Tasks.render()">
                            <option value="">–í—Å–µ</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–ü—Ä–æ–µ–∫—Ç</label>
                        <select id="tasks-filter-project" onchange="Tasks.render()">
                            <option value="">–í—Å–µ</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin:0">
                        <label>–ü–æ–∏—Å–∫</label>
                        <input type="text" id="tasks-search" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" oninput="Tasks.render()">
                    </div>
                </div>
            </div>

            <!-- Add/Edit form -->
            <div class="card" id="tasks-add-form" style="display:none">
                <input type="hidden" id="task-edit-id">
                <div class="card-header">
                    <h3>–ó–∞–¥–∞—á–∞</h3>
                    <button class="btn btn-sm btn-outline" onclick="Tasks.hideAddForm()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
                <div class="form-row">
                    <div class="form-group" style="flex:3">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input type="text" id="task-edit-title" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?">
                    </div>
                    <div class="form-group" style="flex:2">
                        <label>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π</label>
                        <input type="text" id="task-edit-assignee" placeholder="–ò–º—è">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–î–µ–¥–ª–∞–π–Ω</label>
                        <input type="date" id="task-edit-deadline">
                    </div>
                    <div class="form-group" style="flex:2">
                        <label>–ü—Ä–æ–µ–∫—Ç</label>
                        <input type="text" id="task-edit-project" list="task-projects-datalist" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞">
                        <datalist id="task-projects-datalist"></datalist>
                    </div>
                </div>
                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <input type="text" id="task-edit-description" placeholder="–î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏">
                </div>
                <button class="btn btn-success" onclick="Tasks.saveTask()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>

            <!-- Kanban board -->
            <div class="kanban-board" id="tasks-kanban"></div>
        </div>

        <!-- ========== IMPORT ========== -->
        <div id="page-import" class="page">
            <div class="page-header">
                <h1>–ò–º–ø–æ—Ä—Ç –∏–∑ FinTablo</h1>
            </div>

            <div class="card">
                <h3 style="margin-bottom: 12px;">–ó–∞–≥—Ä—É–∑–∏—Ç—å CSV-–æ—Ç—á–µ—Ç</h3>
                <p class="text-muted" style="margin-bottom: 16px; font-size: 13px;">
                    –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –æ—Ç—á–µ—Ç –∏–∑ FinTablo (–û–ü–∏–£ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º) –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ CSV-—Ñ–∞–π–ª.
                    –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç —Å—Ç–∞—Ç—å–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤.
                </p>
                <div class="form-group">
                    <label>–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–∫–∞–∑</label>
                    <select id="import-order-select">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–∫–∞–∑ --</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–ü–µ—Ä–∏–æ–¥ —Å</label>
                        <input type="date" id="import-period-start">
                    </div>
                    <div class="form-group">
                        <label>–ü–µ—Ä–∏–æ–¥ –ø–æ</label>
                        <input type="date" id="import-period-end">
                    </div>
                </div>
                <div class="form-group">
                    <label>CSV-—Ñ–∞–π–ª</label>
                    <input type="file" id="import-csv-file" accept=".csv">
                </div>
                <button class="btn btn-primary" onclick="Import.processCSV()">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å</button>
            </div>

            <div class="card" id="import-preview" style="display:none">
                <div class="card-header">
                    <h3>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä</h3>
                </div>
                <div class="cost-breakdown" id="import-preview-data"></div>
                <div style="margin-top: 16px;">
                    <button class="btn btn-success" onclick="Import.confirmImport()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–º–ø–æ—Ä—Ç</button>
                    <button class="btn btn-outline" onclick="Import.cancelImport()">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>–ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤</h3>
                </div>
                <div class="table-wrap">
                    <table>
                        <thead>
                            <tr>
                                <th>–î–∞—Ç–∞</th>
                                <th>–ó–∞–∫–∞–∑</th>
                                <th>–ü–µ—Ä–∏–æ–¥</th>
                                <th class="text-right">–§–∞–∫—Ç —Ä–∞—Å—Ö–æ–¥—ã</th>
                                <th class="text-right">–§–∞–∫—Ç –≤—ã—Ä—É—á–∫–∞</th>
                            </tr>
                        </thead>
                        <tbody id="import-history-body">
                            <tr><td colspan="5" class="text-center text-muted">–ù–µ—Ç –∏–º–ø–æ—Ä—Ç–æ–≤</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ========== SETTINGS ========== -->
        <div id="page-settings" class="page">
            <div class="page-header">
                <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
                <button class="btn btn-success" onclick="Settings.saveAll()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>

            <div class="tabs">
                <div class="tab active" data-tab="production" onclick="Settings.switchTab('production')">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</div>
                <div class="tab" data-tab="costs" onclick="Settings.switchTab('costs')">–†–∞—Å—Ö–æ–¥—ã</div>
                <div class="tab" data-tab="pricing" onclick="Settings.switchTab('pricing')">–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</div>
                <div class="tab" data-tab="templates" onclick="Settings.switchTab('templates')">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ñ–æ—Ä–º</div>
                <div class="tab" data-tab="employees" onclick="Settings.switchTab('employees')">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</div>
            </div>

            <!-- Production tab -->
            <div id="settings-tab-production" class="settings-tab-content">
                <div class="card">
                    <h3 style="margin-bottom: 16px;">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ö–æ–ª-–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</label>
                            <input type="number" step="0.5" id="set-workers_count" data-key="workers_count">
                            <span class="form-hint">—á–µ–ª</span>
                        </div>
                        <div class="form-group">
                            <label>–ß–∞—Å–æ–≤ –Ω–∞ 1 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</label>
                            <input type="number" id="set-hours_per_worker" data-key="hours_per_worker">
                            <span class="form-hint">—á/–º–µ—Å (9—á x 21–¥–Ω = 189)</span>
                        </div>
                        <div class="form-group">
                            <label>–ö–æ—ç—Ñ—Ñ. –∑–∞–≥—Ä—É–∑–∫–∏</label>
                            <input type="number" step="0.05" id="set-work_load_ratio" data-key="work_load_ratio">
                            <span class="form-hint">0.8 = 80%</span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–î–æ–ª—è –ª–∏—Ç—å—è –ø–ª–∞—Å—Ç–∏–∫–∞</label>
                            <input type="number" step="0.05" id="set-plastic_injection_ratio" data-key="plastic_injection_ratio">
                            <span class="form-hint">0.7 = 70%</span>
                        </div>
                        <div class="form-group">
                            <label>–î–æ–ª—è —É–ø–∞–∫–æ–≤–∫–∏</label>
                            <input type="number" step="0.05" id="set-packaging_ratio" data-key="packaging_ratio">
                            <span class="form-hint">0.3 = 30%</span>
                        </div>
                        <div class="form-group">
                            <label>–ö–æ—ç—Ñ—Ñ. –ø–æ—Ç–µ—Ä—å</label>
                            <input type="number" step="0.05" id="set-waste_factor" data-key="waste_factor">
                            <span class="form-hint">1.1 = 10% –∑–∞–ø–∞—Å</span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–°–∫–æ—Ä–æ—Å—Ç—å —Å—Ä–µ–∑–∫–∏ –ª–µ–π–Ω–∏–∫–æ–≤</label>
                            <input type="number" id="set-cutting_speed" data-key="cutting_speed">
                            <span class="form-hint">—à—Ç/—á</span>
                        </div>
                        <div class="form-group">
                            <label>–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ NFC</label>
                            <input type="number" id="set-nfc_write_speed" data-key="nfc_write_speed">
                            <span class="form-hint">—à—Ç/—á</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Costs tab -->
            <div id="settings-tab-costs" class="settings-tab-content" style="display:none">
                <div class="card">
                    <h3 style="margin-bottom: 16px;">–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–§–û–¢ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –≤ —á–∞—Å</label>
                            <input type="number" id="set-fot_per_hour" data-key="fot_per_hour">
                            <span class="form-hint">—Ä—É–±/—á</span>
                        </div>
                        <div class="form-group">
                            <label>–ö–æ—Å–≤–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (–º–µ—Å—è—Ü)</label>
                            <input type="number" id="set-indirect_costs_monthly" data-key="indirect_costs_monthly">
                            <span class="form-hint">—Ä—É–±/–º–µ—Å</span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–ª–∞—Å—Ç–∏–∫–∞ –∑–∞ –∫–≥</label>
                            <input type="number" id="set-plastic_cost_per_kg" data-key="plastic_cost_per_kg">
                            <span class="form-hint">—Ä—É–±/–∫–≥</span>
                        </div>
                        <div class="form-group">
                            <label>–°—Ç–æ–∏–º–æ—Å—Ç—å NFC –º–µ—Ç–∫–∏</label>
                            <input type="number" id="set-nfc_tag_cost" data-key="nfc_tag_cost">
                            <span class="form-hint">—Ä—É–±/—à—Ç</span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ê–º–æ—Ä—Ç–∏–∑–∞—Ü–∏—è –º–æ–ª–¥–∞ (–±–∞–∑–æ–≤–∞—è)</label>
                            <input type="number" id="set-mold_base_cost" data-key="mold_base_cost">
                            <span class="form-hint">—Ä—É–±</span>
                        </div>
                        <div class="form-group">
                            <label>–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã</label>
                            <input type="number" id="set-design_cost" data-key="design_cost">
                            <span class="form-hint">—Ä—É–±</span>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ú–°–ö</label>
                            <input type="number" id="set-delivery_cost_moscow" data-key="delivery_cost_moscow">
                            <span class="form-hint">—Ä—É–±</span>
                        </div>
                        <div class="form-group">
                            <label>–î–æ—Å—Ç–∞–≤–∫–∞ —Å –ø–µ—á–∞—Ç–∏</label>
                            <input type="number" id="set-printing_delivery_cost" data-key="printing_delivery_cost">
                            <span class="form-hint">—Ä—É–±</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pricing tab -->
            <div id="settings-tab-pricing" class="settings-tab-content" style="display:none">
                <div class="card">
                    <h3 style="margin-bottom: 16px;">–¶–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–¶–µ–ª–µ–≤–∞—è –º–∞—Ä–∂–∞</label>
                            <input type="number" step="0.05" id="set-margin_target" data-key="margin_target">
                            <span class="form-hint">0.40 = 40%</span>
                        </div>
                        <div class="form-group">
                            <label>–°—Ç–∞–≤–∫–∞ –ù–î–°</label>
                            <input type="number" step="0.01" id="set-vat_rate" data-key="vat_rate">
                            <span class="form-hint">0.05 = 5%</span>
                        </div>
                        <div class="form-group">
                            <label>–°—Ç–∞–≤–∫–∞ –Ω–∞–ª–æ–≥–∞</label>
                            <input type="number" step="0.01" id="set-tax_rate" data-key="tax_rate">
                            <span class="form-hint">0.06 = 6%</span>
                        </div>
                    </div>
                    <h3 style="margin: 20px 0 16px;">–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ö–æ–º–∏—Å—Å–∏—è –ú–ü</label>
                            <input type="number" step="0.01" id="set-mp_commission" data-key="mp_commission">
                            <span class="form-hint">0.05 = 5%</span>
                        </div>
                        <div class="form-group">
                            <label>–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –ú–ü</label>
                            <input type="number" step="0.01" id="set-mp_logistics" data-key="mp_logistics">
                            <span class="form-hint">0.06 = 6%</span>
                        </div>
                        <div class="form-group">
                            <label>–•—Ä–∞–Ω–µ–Ω–∏–µ –ú–ü</label>
                            <input type="number" step="0.01" id="set-mp_storage_ratio" data-key="mp_storage_ratio">
                            <span class="form-hint">0.32 = 32%</span>
                        </div>
                        <div class="form-group">
                            <label>–≠–∫–≤–∞–π—Ä–∏–Ω–≥ –ú–ü</label>
                            <input type="number" step="0.001" id="set-mp_acquiring" data-key="mp_acquiring">
                            <span class="form-hint">0.065 = 6.5%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Employees tab -->
            <div id="settings-tab-employees" class="settings-tab-content" style="display:none">
                <div class="card">
                    <div class="card-header">
                        <h3>–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h3>
                        <button class="btn btn-sm btn-primary" onclick="Settings.showAddEmployee()">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                    </div>

                    <!-- Add/Edit form -->
                    <div id="employee-form" style="display:none; margin-bottom:16px; padding:16px; background:var(--bg); border-radius:8px;">
                        <input type="hidden" id="emp-edit-id">
                        <div class="form-row">
                            <div class="form-group">
                                <label>–ò–º—è</label>
                                <input type="text" id="emp-name" placeholder="–ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞">
                            </div>
                            <div class="form-group">
                                <label>–†–æ–ª—å</label>
                                <select id="emp-role">
                                    <option value="production">–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</option>
                                    <option value="office">–û—Ñ–∏—Å / –º–µ–Ω–µ–¥–∂–µ—Ä</option>
                                    <option value="management">–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>–ß–∞—Å–æ–≤ –≤ –¥–µ–Ω—å</label>
                                <input type="number" id="emp-daily-hours" value="8" step="0.5" min="1" max="12">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Telegram @username</label>
                                <input type="text" id="emp-tg-username" placeholder="@username">
                            </div>
                            <div class="form-group">
                                <label>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ (—á–∞—Å)</label>
                                <input type="number" id="emp-reminder-hour" value="17" min="0" max="23">
                            </div>
                            <div class="form-group">
                                <label>–ú–∏–Ω.</label>
                                <input type="number" id="emp-reminder-min" value="30" min="0" max="59" step="5">
                            </div>
                            <div class="form-group">
                                <label>–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å (UTC+)</label>
                                <input type="number" id="emp-tz-offset" value="3" min="-12" max="14">
                            </div>
                        </div>
                        <div style="margin-bottom:12px;">
                            <label style="display:flex;align-items:center;gap:6px;font-size:13px;cursor:pointer;">
                                <input type="checkbox" id="emp-tasks-required">
                                –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á (–±–æ—Ç –±—É–¥–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å ¬´—á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–µ–ª–∞–ª¬ª)
                            </label>
                        </div>
                        <div class="flex gap-8">
                            <button class="btn btn-success" onclick="Settings.saveEmployee()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            <button class="btn btn-outline" onclick="Settings.cancelEmployee()">–û—Ç–º–µ–Ω–∞</button>
                            <button class="btn btn-danger" id="emp-delete-btn" style="margin-left:auto;display:none;" onclick="Settings.deleteEmployee()">–£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    </div>

                    <!-- Employees table -->
                    <div class="table-wrap">
                        <table style="font-size:13px;">
                            <thead>
                                <tr>
                                    <th>–ò–º—è</th>
                                    <th style="text-align:center">–†–æ–ª—å</th>
                                    <th style="text-align:center">–ß–∞—Å–æ–≤/–¥–µ–Ω—å</th>
                                    <th style="text-align:center">Telegram</th>
                                    <th style="text-align:center">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</th>
                                    <th style="text-align:center">–ó–∞–¥–∞—á–∏</th>
                                    <th style="text-align:center">–°—Ç–∞—Ç—É—Å</th>
                                    <th style="width:40px"></th>
                                </tr>
                            </thead>
                            <tbody id="employees-table-body">
                                <tr><td colspan="8" class="text-center text-muted">–ó–∞–≥—Ä—É–∑–∫–∞...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Templates tab -->
            <div id="settings-tab-templates" class="settings-tab-content" style="display:none">
                <div class="card">
                    <div class="card-header">
                        <h3>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ñ–æ—Ä–º/–±–ª–∞–Ω–∫–æ–≤</h3>
                        <div style="display:flex;gap:8px;">
                            <button class="btn btn-sm btn-success" id="settings-save-molds-btn" style="display:none" onclick="Settings.saveMoldsChanges()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                        </div>
                    </div>
                    <p style="font-size:11px;color:var(--text-muted);margin-bottom:12px;">–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä—è–º–æ –≤ —Ç–∞–±–ª–∏—Ü–µ. –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥—Å–≤–µ—Ç—è—Ç—Å—è –∑–µ–ª—ë–Ω—ã–º.</p>
                    <div class="table-wrap">
                        <table style="font-size:12px;">
                            <thead>
                                <tr>
                                    <th style="min-width:140px">–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                    <th style="width:70px;text-align:center">–¢–∏–ø</th>
                                    <th style="width:70px;text-align:center">–®—Ç/—á –º–∏–Ω</th>
                                    <th style="width:70px;text-align:center">–®—Ç/—á –º–∞–∫—Å</th>
                                    <th style="width:70px;text-align:center">–®—Ç/—á —Ñ–∞–∫—Ç</th>
                                    <th style="width:70px;text-align:center">–í–µ—Å (–≥)</th>
                                    <th style="width:60px;text-align:center">–ú–æ–ª–¥—ã</th>
                                    <th style="width:40px"></th>
                                </tr>
                            </thead>
                            <tbody id="settings-templates-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </main>
</div>

<!-- Toast notification -->
<div id="toast" class="toast"></div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="js/supabase.js?v=25"></script>
<script src="js/calculator.js?v=25"></script>
<script src="js/app.js?v=25"></script>
<script src="js/dashboard.js?v=25"></script>
<script src="js/orders.js?v=25"></script>
<script src="js/analytics.js?v=25"></script>
<script src="js/molds.js?v=25"></script>
<script src="js/kp.js?v=25"></script>
<script src="js/timetrack.js?v=25"></script>
<script src="js/tasks.js?v=25"></script>
<script src="js/import.js?v=25"></script>
<script src="js/factual.js?v=25"></script>
<script src="js/settings.js?v=25"></script>
</body>
</html>
